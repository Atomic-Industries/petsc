#! /bin/csh
# 
#  Makes distribution version of Petsc 2.0
#
echo "------- Have you made ?-------------------------------------"
echo "(1) manpages, wwwpages, latexpages by running make allmanpages?"
echo "(2) the users manual (and intro) in .ps and .html?"
echo "(3) Set the version number and release date in petsc.h?"
echo "(4) Removed the option -u from BASEOPTF in bmake/sun4.g?"
echo "(5) Rebuilt and checked all Fortran stubs?"
echo "(6) Made sure Fortran include files match C ones?"
#
cd /home/bsmith/petsc
make ACTION=clean tree
#
/bin/rm -f ~/petsc.tar
#
cd /home/bsmith
tar cFFXf /home/bsmith/petsc/maint/xclude ~/petsc.tar petsc
#
cd /mcs/tmp
tar xf ~/petsc.tar
chmod -R u+w petsc
/bin/rm -f ~/petsc.tar
tar cf ~/petsc.tar petsc
/bin/rm -r -f /mcs/tmp/petsc

#
#  To test locally and build petsc.solid
#
# mv petsc.solid petsc.solid.old
# mv petsc petsc.good
# tar xf petsc.tar
# mv petsc petsc.solid
# do chmod g+ws petsc.solid
# do chgrp -R pdetools petsc.solid
# do chmod -R g+w petsc.solid
# mv petsc.good petsc
# Run du on petsc.solid to make sure there is no garbage
# Test manpages and manual in petsc.solid
# Do builds in petsc.solid -- Remember that you must set
# PETSC_DIR in .cshrc to  point to petsc.solid
#
# For local distribution, remember to make etags in petsc.solid
#
# Put a .gz and .Z file in the ftp site.





