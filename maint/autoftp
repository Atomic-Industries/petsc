#!/usr/local/bin/expect -f
# $Id: autoftp,v 1.10 1997/09/10 19:38:40 balay Exp balay $ 

#
#  automatically ftp's to a certain site and 
# drops off a file
#
#  old passwords: K23p66ai, Pzr92a8i, 1953bz24
# 
  set host     [lindex $argv 0]
  set user     [lindex $argv 1]
  set action   [lindex $argv 2]
  set file_in  [lindex $argv 3]
  set file_out [lindex $argv 4]

     spawn ftp
     expect {ftp>*}

     # ftp can take a while to open a connection initially
     set timeout 90
     send "open $host \r"
     expect {*Name*}
     send "$user\r"
     expect {*Password:}
     send "F43z22gh\r"
     expect {*ftp>*}
     # may be moving a large file 
     set timeout 2000
     send "binary \r"
     expect {*ftp>*}
     send "$action $file_in $file_out\r"
     expect {*ftp>*}
     send "quit\r"

