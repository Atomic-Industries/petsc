CC       = cc -DPARCH_alpha
FC       = f77 -w
AR       = ar
RM       = rm -f
RANLIB   = ranlib
OMAKE    = make 
SHELL    = /bin/sh
CLINKER  = cc $(BASEOPT)
FLINKER  = f77 $(BASEOPTF)
SYS_LIB  =

CONF     = -DHAVE_64BITS -DHAVE_PWD_H -DHAVE_STRING_H -DHAVE_MALLOC_H \
           -DHAVE_STDLIB_H -DHAVE_SWAPPED_BYTES -DHAVE_X11 \
           -DHAVE_FORTRAN_UNDERSCORE -DHAVE_DRAND48

include $(PETSC_DIR)/bmake/common

libc: $(OBJSC)
	ar crl $(LIBNAME) $(OBJSC)
libf: $(OBJSF)
	ar crl $(LIBNAME) $(OBJSF)

.c.a: 
	$(CC) -c $(CFLAGS) $(BASEOPT) $*.c
	$(AR) cr $(LIBNAME) $*.o
	$(RM) -f $*.o
.c.o: 
	$(CC) -c $(CFLAGS) $(BASEOPT) $*.c
.f.o: 
	$(FC) -c $(FFLAGS) $(BASEOPTF) $*.f

.f.a: 
	$(FC) -c $(FFLAGS) $(BASEOPTF) $*.f
	$(AR) cr $(LIBNAME) $*.o
	$(RM) -f $*.o

.F.o:
	$(RM) $*.f
	cpp $(CFLAGS) -E $< | grep -v '^ *#' > $*.f
	$(FC) -c $(FFLAGS) $(BASEOPTF) $*.f
	$(RM) $*.f

.F.a: 
	$(RM) $*.f
	cpp $(CFLAGS) -E $< | grep -v '^ *#' > $*.f
	$(FC) -c $(FFLAGS) $(BASEOPTF) $*.f
	$(RM) $*.f
	$(AR) cr $(LIBNAME) $*.o
	$(RM) -f $*.o
